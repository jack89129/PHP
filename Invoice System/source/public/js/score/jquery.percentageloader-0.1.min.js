(function(e){"use strict";var t="../images/index.png",n=new Image;n.src=t;e.fn.percentageLoader=function(t){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D;r={width:256,height:256,progress:0,value:"0kb",controllable:false};if(t!==undefined){e.extend(r,t)}else{t=r}D=document.createElement("div");D.style.width=r.width+"px";D.style.height=r.height+"px";D.style.position="relative";e(this).append(D);i=document.createElement("canvas");i.setAttribute("width",r.width);i.setAttribute("height",r.height);D.appendChild(i);s=document.createElement("div");s.style.width=r.width.toString()-2+"px";s.style.textAlign="center";s.style.height="50px";s.style.left=0;s.style.position="absolute";o=document.createElement("div");o.style.width=(r.width-2).toString()+"px";o.style.textAlign="center";o.style.height="0px";o.style.overflow="hidden";o.style.left=0;o.style.position="absolute";u=[o,s];for(a=0;a<u.length;a+=1){f=u[a];l=["-webkit-user-select","-khtml-user-select","-moz-user-select","-o-user-select","user-select"];for(c=0;c<l.length;c+=1){e(f).css(l[c],"none")}}D.appendChild(s);D.appendChild(o);h=i.getContext("2d");v=i.width/2-1;m=i.height/2-1;g=h.createLinearGradient(v,0,v,i.height);g.addColorStop(0,"#d6eeff");g.addColorStop(1,"#b6d8f0");y=h.createLinearGradient(v,v*.133333,v,i.height-v*.133333);y.addColorStop(0,"#f9fcfe");y.addColorStop(1,"#d9ebf7");b=h.createLinearGradient(v,0,v,i.height);b.addColorStop(0,"#c1dff4");b.addColorStop(1,"#aacee6");w=v*.6666;x=v-2;E=w+v*.06;S=x-v*.06;T=2.1707963267949;N=.9707963267949+Math.PI*2;C=false;h.lineWidth=1;O=function(e,t,n){return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}};M=function(){function e(e,t){var n,r,i,s,o,u,a,f;n={x:v,y:m};r=O(n,e,E);h.moveTo(r.x,r.y);a=O(n,t,E);f=O(n,t,S);i=t+3.142/2;s=v*.2-4;o=O(a,i,s);u=O(f,i,s);h.arc(v,m,E,e,t,false);h.bezierCurveTo(o.x,o.y,u.x,u.y,f.x,f.y);h.arc(v,m,S,t,e,true);a=O(n,e,E);f=O(n,e,S);i=e-3.142/2;o=O(f,i,s);u=O(a,i,s);h.bezierCurveTo(o.x,o.y,u.x,u.y,a.x,a.y)}h.clearRect(0,0,i.width,i.height);h.fillStyle=g;h.beginPath();h.strokeStyle="#b2d5ed";h.arc(v,m,x,0,Math.PI*2,C);h.fill();h.stroke();h.fillStyle=y;h.beginPath();h.arc(v,m,w,0,Math.PI*2,C);h.fill();h.strokeStyle="#b2d5edaa";h.stroke();h.beginPath();h.beginPath();h.strokeStyle="#bcd4e5";e(T,N);h.fillStyle=b;h.fill();h.stroke();k=T+p*(N-T);h.beginPath();e(T,k);h.save();h.clip();h.drawImage(n,0,0,i.width,i.height);h.restore();h.beginPath();e(T,k);h.stroke();(function(){var e,t,n,i;e=v/2;s.style.top=(r.height/2-e/2).toString()+"px";s.style.color="#80a9c8";s.style.font=e.toString()+"px BebasNeueRegular";s.style.textShadow="0 1px 1px #FFFFFF";t=(p*100).toFixed(0)+"%";s.innerHTML=t;n=v/5.5;o.style.color="#80a9c8";o.style.font=n.toString()+"px BebasNeueRegular";o.style.height=n.toString()+"px";o.style.textShadow="None";i=r.height*.16666666-n;o.style.top=(r.height*.8333333+i/4).toString()+"px"})()};_=function(){if(p<0){p=0}if(p>1){p=1}};L=function(e){p=e;_();M()};this.setProgress=L;A=function(e){d=e;o.innerHTML=d};this.setValue=A;this.setValue(r.value);p=r.progress;_();M();if(t.controllable===true){(function(){var n,r,i;r=function(e,t){return Math.sqrt(Math.pow(e-v,2)+Math.pow(t-m,2))};n=false;i=function(e,n){var r,i,s,o,u,a;r=e-v;i=n-m;s=Math.atan2(i,r);if(s>Math.PI/2){s-=Math.PI*2}o=T-Math.PI*2;u=N-T;a=(s-o)/u;L(a);if(t.onProgressUpdate){t.onProgressUpdate(p)}};e(D).mousedown(function(t){var s,o,u,a;s=e(this).offset();o=t.pageX-s.left;u=t.pageY-s.top;a=r(o,u);if(a>w&&a<x){n=true;i(o,u)}}).mouseup(function(){n=false}).mousemove(function(t){var r,s,o;if(n){r=e(D).offset();s=t.pageX-r.left;o=t.pageY-r.top;i(s,o)}}).mouseleave(function(){n=false})})()}return this}})(jQuery)